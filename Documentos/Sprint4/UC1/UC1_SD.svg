<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="514px" preserveAspectRatio="none" style="width:1242px;height:514px;" version="1.1" viewBox="0 0 1242 514" width="1242px" zoomAndPan="magnify"><defs><filter height="300%" id="foxe0lw5jrolh" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#foxe0lw5jrolh)" height="313.5938" style="stroke:#A80036;stroke-width:1.0;" width="10" x="90.5" y="98.2969"/><rect fill="#FFFFFF" filter="url(#foxe0lw5jrolh)" height="277.3281" style="stroke:#A80036;stroke-width:1.0;" width="10" x="301.5" y="134.5625"/><rect fill="#FFFFFF" filter="url(#foxe0lw5jrolh)" height="145.6641" style="stroke:#A80036;stroke-width:1.0;" width="10" x="605.5" y="163.6953"/><rect fill="#FFFFFF" filter="url(#foxe0lw5jrolh)" height="87.3984" style="stroke:#A80036;stroke-width:1.0;" width="10" x="866.5" y="192.8281"/><rect fill="#FFFFFF" filter="url(#foxe0lw5jrolh)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1044.5" y="221.9609"/><rect fill="#FFFFFF" filter="url(#foxe0lw5jrolh)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1170" y="338.4922"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="95" x2="95" y1="88.2969" y2="429.8906"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="306.5" x2="306.5" y1="88.2969" y2="429.8906"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="610.5" x2="610.5" y1="88.2969" y2="429.8906"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="871.5" x2="871.5" y1="88.2969" y2="429.8906"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1049" x2="1049" y1="88.2969" y2="429.8906"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1175" x2="1175" y1="88.2969" y2="429.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="5" y="84.9951">Utilizador Não Registado</text><ellipse cx="95.5" cy="15" fill="#FEFECE" filter="url(#foxe0lw5jrolh)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M95.5,23 L95.5,50 M82.5,31 L108.5,31 M95.5,50 L82.5,65 M95.5,50 L108.5,65 " fill="none" filter="url(#foxe0lw5jrolh)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="5" y="441.8857">Utilizador Não Registado</text><ellipse cx="95.5" cy="455.1875" fill="#FEFECE" filter="url(#foxe0lw5jrolh)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M95.5,463.1875 L95.5,490.1875 M82.5,471.1875 L108.5,471.1875 M95.5,490.1875 L82.5,505.1875 M95.5,490.1875 L108.5,505.1875 " fill="none" filter="url(#foxe0lw5jrolh)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#foxe0lw5jrolh)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="202" x="203.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="188" x="210.5" y="72.9951">:api/utilizadoresController</text><rect fill="#FEFECE" filter="url(#foxe0lw5jrolh)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="202" x="203.5" y="428.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="188" x="210.5" y="448.8857">:api/utilizadoresController</text><rect fill="#FEFECE" filter="url(#foxe0lw5jrolh)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="134" x="541.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120" x="548.5" y="72.9951">utilizadorService</text><rect fill="#FEFECE" filter="url(#foxe0lw5jrolh)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="134" x="541.5" y="428.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120" x="548.5" y="448.8857">utilizadorService</text><rect fill="#FEFECE" filter="url(#foxe0lw5jrolh)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="110" x="814.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="821.5" y="72.9951">:userManager</text><rect fill="#FEFECE" filter="url(#foxe0lw5jrolh)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="110" x="814.5" y="428.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="821.5" y="448.8857">:userManager</text><rect fill="#FEFECE" filter="url(#foxe0lw5jrolh)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="113" x="991" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99" x="998" y="72.9951">:api/utilizador</text><rect fill="#FEFECE" filter="url(#foxe0lw5jrolh)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="113" x="991" y="428.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99" x="998" y="448.8857">:api/utilizador</text><rect fill="#FEFECE" filter="url(#foxe0lw5jrolh)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="110" x="1118" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="1125" y="72.9951">tokenService</text><rect fill="#FEFECE" filter="url(#foxe0lw5jrolh)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="110" x="1118" y="428.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="1125" y="448.8857">tokenService</text><rect fill="#FFFFFF" filter="url(#foxe0lw5jrolh)" height="313.5938" style="stroke:#A80036;stroke-width:1.0;" width="10" x="90.5" y="98.2969"/><rect fill="#FFFFFF" filter="url(#foxe0lw5jrolh)" height="277.3281" style="stroke:#A80036;stroke-width:1.0;" width="10" x="301.5" y="134.5625"/><rect fill="#FFFFFF" filter="url(#foxe0lw5jrolh)" height="145.6641" style="stroke:#A80036;stroke-width:1.0;" width="10" x="605.5" y="163.6953"/><rect fill="#FFFFFF" filter="url(#foxe0lw5jrolh)" height="87.3984" style="stroke:#A80036;stroke-width:1.0;" width="10" x="866.5" y="192.8281"/><rect fill="#FFFFFF" filter="url(#foxe0lw5jrolh)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1044.5" y="221.9609"/><rect fill="#FFFFFF" filter="url(#foxe0lw5jrolh)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1170" y="338.4922"/><polygon fill="#A80036" points="289.5,130.5625,299.5,134.5625,289.5,138.5625,293.5,134.5625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="100.5" x2="295.5" y1="134.5625" y2="134.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="107.5" y="121.9302">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="120.5" y="114.3638">solicita registo</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="120.5" y="129.4966">(RegistarUtilizadorDTO)</text><polygon fill="#A80036" points="593.5,159.6953,603.5,163.6953,593.5,167.6953,597.5,163.6953" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="311.5" x2="599.5" y1="163.6953" y2="163.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="318.5" y="158.6294">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="262" x="331.5" y="158.6294">RegistarUtilizador(RegistarUtilizadorDTO)</text><polygon fill="#A80036" points="854.5,188.8281,864.5,192.8281,854.5,196.8281,858.5,192.8281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="615.5" x2="860.5" y1="192.8281" y2="192.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8" x="622.5" y="187.7622">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="220" x="634.5" y="187.7622">CreateAsync(utilizador, password)</text><polygon fill="#A80036" points="1032.5,217.9609,1042.5,221.9609,1032.5,225.9609,1036.5,221.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="876.5" x2="1038.5" y1="221.9609" y2="221.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="883.5" y="216.895">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="896.5" y="216.895">Regista um Utilizador</text><polygon fill="#A80036" points="887.5,247.0938,877.5,251.0938,887.5,255.0938,883.5,251.0938" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="881.5" x2="1048.5" y1="251.0938" y2="251.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="893.5" y="246.0278">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="906.5" y="246.0278">Utilizador Registado</text><polygon fill="#A80036" points="626.5,276.2266,616.5,280.2266,626.5,284.2266,622.5,280.2266" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="620.5" x2="870.5" y1="280.2266" y2="280.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="632.5" y="275.1606">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="645.5" y="275.1606">IdentityResult</text><polygon fill="#A80036" points="322.5,305.3594,312.5,309.3594,322.5,313.3594,318.5,309.3594" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="316.5" x2="609.5" y1="309.3594" y2="309.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="328.5" y="304.2935">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="341.5" y="304.2935">IdentityResult</text><polygon fill="#A80036" points="1158,334.4922,1168,338.4922,1158,342.4922,1162,338.4922" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="311.5" x2="1164" y1="338.4922" y2="338.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="318.5" y="333.4263">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190" x="331.5" y="333.4263">BuildToken(infoUtilizadorDTO)</text><polygon fill="#A80036" points="322.5,363.625,312.5,367.625,322.5,371.625,318.5,367.625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="316.5" x2="1174" y1="367.625" y2="367.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="328.5" y="362.5591">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="341.5" y="362.5591">Return Token</text><polygon fill="#A80036" points="106.5,407.8906,96.5,411.8906,106.5,415.8906,102.5,411.8906" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="100.5" x2="305.5" y1="411.8906" y2="411.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="112.5" y="399.2583">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="135.5" y="391.6919">Return Token</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="135.5" y="406.8247">operação bem sucedida</text><!--MD5=[ff6448368131abdf996e8eb3d578e149]
@startuml
autonumber
actor "Utilizador Não Registado" as UNR
participant ":api/utilizadoresController" as UC
participant "utilizadorService" as S
participant ":userManager" as UM
participant ":api/utilizador" as U
participant "tokenService" as TS


activate UNR
UNR - -> UC : solicita registo\n(RegistarUtilizadorDTO)
activate UC

UC - -> S : RegistarUtilizador(RegistarUtilizadorDTO)
activate S

S - -> UM : CreateAsync(utilizador, password)
activate UM

UM - -> U : Regista um Utilizador
activate U

U - -> UM : Utilizador Registado
deactivate U

UM - -> S : IdentityResult
deactivate UM

S - -> UC : IdentityResult
deactivate S

UC - -> TS : BuildToken(infoUtilizadorDTO)
activate TS

TS - -> UC : Return Token
deactivate TS

UC - -> UNR : Return Token\noperação bem sucedida

deactivate UC
deactivate UNR
@enduml

PlantUML version 1.2021.2beta6(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>