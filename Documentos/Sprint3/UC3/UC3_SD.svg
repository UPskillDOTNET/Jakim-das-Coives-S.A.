<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="775px" preserveAspectRatio="none" style="width:1824px;height:775px;" version="1.1" viewBox="0 0 1824 775" width="1824px" zoomAndPan="magnify"><defs><filter height="300%" id="fgl15jduqi052" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fgl15jduqi052)" height="574.6563" style="stroke:#A80036;stroke-width:1.0;" width="10" x="37" y="98.2969"/><rect fill="#FFFFFF" filter="url(#fgl15jduqi052)" height="553.5234" style="stroke:#A80036;stroke-width:1.0;" width="10" x="248" y="119.4297"/><rect fill="#FFFFFF" filter="url(#fgl15jduqi052)" height="495.2578" style="stroke:#A80036;stroke-width:1.0;" width="10" x="428" y="148.5625"/><rect fill="#FFFFFF" filter="url(#fgl15jduqi052)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="678" y="235.9609"/><rect fill="#FFFFFF" filter="url(#fgl15jduqi052)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="824.5" y="294.2266"/><rect fill="#FFFFFF" filter="url(#fgl15jduqi052)" height="87.3984" style="stroke:#A80036;stroke-width:1.0;" width="10" x="974.5" y="352.4922"/><rect fill="#FFFFFF" filter="url(#fgl15jduqi052)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1179.5" y="381.625"/><rect fill="#FFFFFF" filter="url(#fgl15jduqi052)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1361" y="469.0234"/><rect fill="#FFFFFF" filter="url(#fgl15jduqi052)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1542.5" y="527.2891"/><rect fill="#FFFFFF" filter="url(#fgl15jduqi052)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1716.5" y="177.6953"/><rect fill="#FFFFFF" filter="url(#fgl15jduqi052)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1716.5" y="585.5547"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="42" x2="42" y1="88.2969" y2="690.9531"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="253" x2="253" y1="88.2969" y2="690.9531"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="433" x2="433" y1="88.2969" y2="690.9531"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="683" x2="683" y1="88.2969" y2="690.9531"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="829" x2="829" y1="88.2969" y2="690.9531"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="979" x2="979" y1="88.2969" y2="690.9531"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1184.5" x2="1184.5" y1="88.2969" y2="690.9531"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1365.5" x2="1365.5" y1="88.2969" y2="690.9531"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1547.5" x2="1547.5" y1="88.2969" y2="690.9531"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1721.5" x2="1721.5" y1="88.2969" y2="690.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="5" y="84.9951">Utilizador</text><ellipse cx="42" cy="15" fill="#FEFECE" filter="url(#fgl15jduqi052)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M42,23 L42,50 M29,31 L55,31 M42,50 L29,65 M42,50 L55,65 " fill="none" filter="url(#fgl15jduqi052)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="5" y="702.9482">Utilizador</text><ellipse cx="42" cy="716.25" fill="#FEFECE" filter="url(#fgl15jduqi052)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M42,724.25 L42,751.25 M29,732.25 L55,732.25 M42,751.25 L29,766.25 M42,751.25 L55,766.25 " fill="none" filter="url(#fgl15jduqi052)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#fgl15jduqi052)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="176" x="163" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="162" x="170" y="72.9951">:api/ReservaController</text><rect fill="#FEFECE" filter="url(#fgl15jduqi052)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="176" x="163" y="689.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="162" x="170" y="709.9482">:api/ReservaController</text><rect fill="#FEFECE" filter="url(#fgl15jduqi052)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="156" x="353" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="142" x="360" y="72.9951">:api/ReservaService</text><rect fill="#FEFECE" filter="url(#fgl15jduqi052)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="156" x="353" y="689.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="142" x="360" y="709.9482">:api/ReservaService</text><rect fill="#FEFECE" filter="url(#fgl15jduqi052)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="174" x="594" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="160" x="601" y="72.9951">:api/ParqueRepository</text><rect fill="#FEFECE" filter="url(#fgl15jduqi052)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="174" x="594" y="689.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="160" x="601" y="709.9482">:api/ParqueRepository</text><rect fill="#FEFECE" filter="url(#fgl15jduqi052)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="91" x="782" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="789" y="72.9951">API:Parque</text><rect fill="#FEFECE" filter="url(#fgl15jduqi052)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="91" x="782" y="689.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="789" y="709.9482">API:Parque</text><rect fill="#FEFECE" filter="url(#fgl15jduqi052)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="181" x="887" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="167" x="894" y="72.9951">:api/PagamentoService</text><rect fill="#FEFECE" filter="url(#fgl15jduqi052)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="181" x="887" y="689.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="167" x="894" y="709.9482">:api/PagamentoService</text><rect fill="#FEFECE" filter="url(#fgl15jduqi052)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="138" x="1113.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124" x="1120.5" y="72.9951">:api/UserManager</text><rect fill="#FEFECE" filter="url(#fgl15jduqi052)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="138" x="1113.5" y="689.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124" x="1120.5" y="709.9482">:api/UserManager</text><rect fill="#FEFECE" filter="url(#fgl15jduqi052)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="197" x="1265.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="183" x="1272.5" y="72.9951">:api/TransacaoRepository</text><rect fill="#FEFECE" filter="url(#fgl15jduqi052)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="197" x="1265.5" y="689.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="183" x="1272.5" y="709.9482">:api/TransacaoRepository</text><rect fill="#FEFECE" filter="url(#fgl15jduqi052)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="138" x="1476.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124" x="1483.5" y="72.9951">:api/EmailService</text><rect fill="#FEFECE" filter="url(#fgl15jduqi052)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="138" x="1476.5" y="689.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124" x="1483.5" y="709.9482">:api/EmailService</text><rect fill="#FEFECE" filter="url(#fgl15jduqi052)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="182" x="1628.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="168" x="1635.5" y="72.9951">:api/ReservaRepository</text><rect fill="#FEFECE" filter="url(#fgl15jduqi052)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="182" x="1628.5" y="689.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="168" x="1635.5" y="709.9482">:api/ReservaRepository</text><rect fill="#FFFFFF" filter="url(#fgl15jduqi052)" height="574.6563" style="stroke:#A80036;stroke-width:1.0;" width="10" x="37" y="98.2969"/><rect fill="#FFFFFF" filter="url(#fgl15jduqi052)" height="553.5234" style="stroke:#A80036;stroke-width:1.0;" width="10" x="248" y="119.4297"/><rect fill="#FFFFFF" filter="url(#fgl15jduqi052)" height="495.2578" style="stroke:#A80036;stroke-width:1.0;" width="10" x="428" y="148.5625"/><rect fill="#FFFFFF" filter="url(#fgl15jduqi052)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="678" y="235.9609"/><rect fill="#FFFFFF" filter="url(#fgl15jduqi052)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="824.5" y="294.2266"/><rect fill="#FFFFFF" filter="url(#fgl15jduqi052)" height="87.3984" style="stroke:#A80036;stroke-width:1.0;" width="10" x="974.5" y="352.4922"/><rect fill="#FFFFFF" filter="url(#fgl15jduqi052)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1179.5" y="381.625"/><rect fill="#FFFFFF" filter="url(#fgl15jduqi052)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1361" y="469.0234"/><rect fill="#FFFFFF" filter="url(#fgl15jduqi052)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1542.5" y="527.2891"/><rect fill="#FFFFFF" filter="url(#fgl15jduqi052)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1716.5" y="177.6953"/><rect fill="#FFFFFF" filter="url(#fgl15jduqi052)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1716.5" y="585.5547"/><polygon fill="#A80036" points="236,115.4297,246,119.4297,236,123.4297,240,119.4297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="47" x2="242" y1="119.4297" y2="119.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="54" y="114.3638">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="67" y="114.3638">DeleteReserva(id)</text><polygon fill="#A80036" points="416,144.5625,426,148.5625,416,152.5625,420,148.5625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="258" x2="422" y1="148.5625" y2="148.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="265" y="143.4966">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="278" y="143.4966">DeleteAsync(id)</text><polygon fill="#A80036" points="1704.5,173.6953,1714.5,177.6953,1704.5,181.6953,1708.5,177.6953" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="438" x2="1710.5" y1="177.6953" y2="177.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8" x="445" y="172.6294">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="457" y="172.6294">GetByIdAsync(id)</text><polygon fill="#A80036" points="449,202.8281,439,206.8281,449,210.8281,445,206.8281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="443" x2="1720.5" y1="206.8281" y2="206.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="455" y="201.7622">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="468" y="201.7622">return reserva</text><polygon fill="#A80036" points="666,231.9609,676,235.9609,666,239.9609,670,235.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="438" x2="672" y1="235.9609" y2="235.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="445" y="230.895">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208" x="458" y="230.895">GetByIdAsync(reserva.ParqueId)</text><polygon fill="#A80036" points="449,261.0938,439,265.0938,449,269.0938,445,265.0938" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="443" x2="682" y1="265.0938" y2="265.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="455" y="260.0278">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="468" y="260.0278">return parque</text><polygon fill="#A80036" points="812.5,290.2266,822.5,294.2266,812.5,298.2266,816.5,294.2266" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="438" x2="818.5" y1="294.2266" y2="294.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="445" y="289.1606">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="249" x="458" y="289.1606">DeleteAsync(reserva.reservaParqueId)</text><polygon fill="#A80036" points="449,319.3594,439,323.3594,449,327.3594,445,323.3594" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="443" x2="828.5" y1="323.3594" y2="323.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="455" y="318.2935">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="472" y="318.2935"/><polygon fill="#A80036" points="962.5,348.4922,972.5,352.4922,962.5,356.4922,966.5,352.4922" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="438" x2="968.5" y1="352.4922" y2="352.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="445" y="347.4263">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202" x="458" y="347.4263">Reembolso(reserva.Transacao)</text><polygon fill="#A80036" points="1167.5,377.625,1177.5,381.625,1167.5,385.625,1171.5,381.625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="984.5" x2="1173.5" y1="381.625" y2="381.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="991.5" y="376.5591">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="1014.5" y="376.5591">UpdateAsync(utilizador)</text><polygon fill="#A80036" points="995.5,406.7578,985.5,410.7578,995.5,414.7578,991.5,410.7578" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="989.5" x2="1183.5" y1="410.7578" y2="410.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1001.5" y="405.6919">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="1027.5" y="405.6919"/><polygon fill="#A80036" points="449,435.8906,439,439.8906,449,443.8906,445,439.8906" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="443" x2="978.5" y1="439.8906" y2="439.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="455" y="434.8247">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="481" y="434.8247"/><polygon fill="#A80036" points="1349,465.0234,1359,469.0234,1349,473.0234,1353,469.0234" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="438" x2="1355" y1="469.0234" y2="469.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="445" y="463.9575">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141" x="466" y="463.9575">PostAsync(transacao)</text><polygon fill="#A80036" points="449,494.1563,439,498.1563,449,502.1563,445,498.1563" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="443" x2="1365" y1="498.1563" y2="498.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="455" y="493.0903">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="477" y="493.0903">return transacao</text><polygon fill="#A80036" points="1530.5,523.2891,1540.5,527.2891,1530.5,531.2891,1534.5,527.2891" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="438" x2="1536.5" y1="527.2891" y2="527.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="445" y="522.2231">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="283" x="467" y="522.2231">EnviarEmailCancelamento(nome, reservaId)</text><polygon fill="#A80036" points="449,552.4219,439,556.4219,449,560.4219,445,556.4219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="443" x2="1546.5" y1="556.4219" y2="556.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="455" y="551.356">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="481" y="551.356"/><polygon fill="#A80036" points="1704.5,581.5547,1714.5,585.5547,1704.5,589.5547,1708.5,585.5547" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="438" x2="1710.5" y1="585.5547" y2="585.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="445" y="580.4888">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="467" y="580.4888">DeleteAsync(id)</text><polygon fill="#A80036" points="449,610.6875,439,614.6875,449,618.6875,445,614.6875" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="443" x2="1720.5" y1="614.6875" y2="614.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="455" y="609.6216">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="481" y="609.6216"/><polygon fill="#A80036" points="269,639.8203,259,643.8203,269,647.8203,265,643.8203" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="263" x2="432" y1="643.8203" y2="643.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="275" y="638.7544">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="301" y="638.7544"/><polygon fill="#A80036" points="53,668.9531,43,672.9531,53,676.9531,49,672.9531" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="47" x2="252" y1="672.9531" y2="672.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="59" y="667.8872">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="82" y="667.8872">operacao bem sucedida</text><!--MD5=[82a011c032347dcb906a9f92a5ac7300]
@startuml
autonumber
actor "Utilizador" as U
participant ":api/ReservaController" as RC
participant ":api/ReservaService" as RS
participant ":api/ParqueRepository" as PR
participant "API:Parque" as API
participant ":api/PagamentoService" as PS
participant ":api/UserManager" as UM
participant ":api/TransacaoRepository" as TR
participant ":api/EmailService" as ES
participant ":api/ReservaRepository" as RR


activate U

U - -> RC: DeleteReserva(id)
activate RC

RC - -> RS: DeleteAsync(id)
activate RS

RS - -> RR: GetByIdAsync(id)
activate RR

RR - -> RS:return reserva
deactivate RR

RS - -> PR: GetByIdAsync(reserva.ParqueId)
activate PR

PR - -> RS: return parque
deactivate PR

RS - -> API: DeleteAsync(reserva.reservaParqueId)
activate API

API - -> RS:
deactivate API

RS - -> PS: Reembolso(reserva.Transacao)
activate PS

PS - -> UM: UpdateAsync(utilizador)
activate UM

UM - -> PS:
deactivate UM

PS - -> RS
deactivate PS

RS - -> TR: PostAsync(transacao)
activate TR

TR - -> RS: return transacao
deactivate TR

RS - -> ES: EnviarEmailCancelamento(nome, reservaId)
activate ES

ES - -> RS:
deactivate ES

RS - -> RR: DeleteAsync(id)
activate RR

RR - -> RS:
deactivate RR

RS - -> RC:
deactivate RS

RC - -> U: operacao bem sucedida
deactivate RC

deactivate U
@enduml

PlantUML version 1.2021.2beta6(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>