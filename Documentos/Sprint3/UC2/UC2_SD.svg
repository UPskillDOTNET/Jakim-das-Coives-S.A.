<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="630px" preserveAspectRatio="none" style="width:1411px;height:630px;" version="1.1" viewBox="0 0 1411 630" width="1411px" zoomAndPan="magnify"><defs><filter height="300%" id="f1wrhdsyuceins" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1wrhdsyuceins)" height="430.125" style="stroke:#A80036;stroke-width:1.0;" width="10" x="37" y="98.2969"/><rect fill="#FFFFFF" filter="url(#f1wrhdsyuceins)" height="393.8594" style="stroke:#A80036;stroke-width:1.0;" width="10" x="247" y="134.5625"/><rect fill="#FFFFFF" filter="url(#f1wrhdsyuceins)" height="320.4609" style="stroke:#A80036;stroke-width:1.0;" width="10" x="457" y="163.6953"/><rect fill="#FFFFFF" filter="url(#f1wrhdsyuceins)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="639.5" y="192.8281"/><rect fill="#FFFFFF" filter="url(#f1wrhdsyuceins)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="842.5" y="251.0938"/><rect fill="#FFFFFF" filter="url(#f1wrhdsyuceins)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1000.5" y="309.3594"/><rect fill="#FFFFFF" filter="url(#f1wrhdsyuceins)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1129" y="367.625"/><rect fill="#FFFFFF" filter="url(#f1wrhdsyuceins)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1303" y="425.8906"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="42" x2="42" y1="88.2969" y2="546.4219"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="252" x2="252" y1="88.2969" y2="546.4219"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="462" x2="462" y1="88.2969" y2="546.4219"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="644" x2="644" y1="88.2969" y2="546.4219"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="847" x2="847" y1="88.2969" y2="546.4219"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1005" x2="1005" y1="88.2969" y2="546.4219"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1134" x2="1134" y1="88.2969" y2="546.4219"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1308" x2="1308" y1="88.2969" y2="546.4219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="5" y="84.9951">Utilizador</text><ellipse cx="42" cy="15" fill="#FEFECE" filter="url(#f1wrhdsyuceins)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M42,23 L42,50 M29,31 L55,31 M42,50 L29,65 M42,50 L55,65 " fill="none" filter="url(#f1wrhdsyuceins)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="5" y="558.417">Utilizador</text><ellipse cx="42" cy="571.7188" fill="#FEFECE" filter="url(#f1wrhdsyuceins)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M42,579.7188 L42,606.7188 M29,587.7188 L55,587.7188 M42,606.7188 L29,621.7188 M42,606.7188 L55,621.7188 " fill="none" filter="url(#f1wrhdsyuceins)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f1wrhdsyuceins)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="176" x="162" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="162" x="169" y="72.9951">:api/ReservaController</text><rect fill="#FEFECE" filter="url(#f1wrhdsyuceins)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="176" x="162" y="545.4219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="162" x="169" y="565.417">:api/ReservaController</text><rect fill="#FEFECE" filter="url(#f1wrhdsyuceins)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="156" x="382" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="142" x="389" y="72.9951">:api/ReservaService</text><rect fill="#FEFECE" filter="url(#f1wrhdsyuceins)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="156" x="382" y="545.4219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="142" x="389" y="565.417">:api/ReservaService</text><rect fill="#FEFECE" filter="url(#f1wrhdsyuceins)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="181" x="552" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="167" x="559" y="72.9951">:api/PagamentoService</text><rect fill="#FEFECE" filter="url(#f1wrhdsyuceins)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="181" x="552" y="545.4219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="167" x="559" y="565.417">:api/PagamentoService</text><rect fill="#FEFECE" filter="url(#f1wrhdsyuceins)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="197" x="747" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="183" x="754" y="72.9951">:api/TransacaoRepository</text><rect fill="#FEFECE" filter="url(#f1wrhdsyuceins)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="197" x="747" y="545.4219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="183" x="754" y="565.417">:api/TransacaoRepository</text><rect fill="#FEFECE" filter="url(#f1wrhdsyuceins)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="91" x="958" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="965" y="72.9951">API:Parque</text><rect fill="#FEFECE" filter="url(#f1wrhdsyuceins)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="91" x="958" y="545.4219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="965" y="565.417">API:Parque</text><rect fill="#FEFECE" filter="url(#f1wrhdsyuceins)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="138" x="1063" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124" x="1070" y="72.9951">:api/EmailService</text><rect fill="#FEFECE" filter="url(#f1wrhdsyuceins)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="138" x="1063" y="545.4219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124" x="1070" y="565.417">:api/EmailService</text><rect fill="#FEFECE" filter="url(#f1wrhdsyuceins)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="182" x="1215" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="168" x="1222" y="72.9951">:api/ReservaRepository</text><rect fill="#FEFECE" filter="url(#f1wrhdsyuceins)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="182" x="1215" y="545.4219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="168" x="1222" y="565.417">:api/ReservaRepository</text><rect fill="#FFFFFF" filter="url(#f1wrhdsyuceins)" height="430.125" style="stroke:#A80036;stroke-width:1.0;" width="10" x="37" y="98.2969"/><rect fill="#FFFFFF" filter="url(#f1wrhdsyuceins)" height="393.8594" style="stroke:#A80036;stroke-width:1.0;" width="10" x="247" y="134.5625"/><rect fill="#FFFFFF" filter="url(#f1wrhdsyuceins)" height="320.4609" style="stroke:#A80036;stroke-width:1.0;" width="10" x="457" y="163.6953"/><rect fill="#FFFFFF" filter="url(#f1wrhdsyuceins)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="639.5" y="192.8281"/><rect fill="#FFFFFF" filter="url(#f1wrhdsyuceins)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="842.5" y="251.0938"/><rect fill="#FFFFFF" filter="url(#f1wrhdsyuceins)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1000.5" y="309.3594"/><rect fill="#FFFFFF" filter="url(#f1wrhdsyuceins)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1129" y="367.625"/><rect fill="#FFFFFF" filter="url(#f1wrhdsyuceins)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1303" y="425.8906"/><polygon fill="#A80036" points="235,130.5625,245,134.5625,235,138.5625,239,134.5625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="47" x2="241" y1="134.5625" y2="134.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="54" y="121.9302">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="67" y="114.3638">solicita reserva</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87" x="67" y="129.4966">(reservaDTO)</text><polygon fill="#A80036" points="445,159.6953,455,163.6953,445,167.6953,449,163.6953" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="257" x2="451" y1="163.6953" y2="163.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="264" y="158.6294">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168" x="277" y="158.6294">PostReserva(reservaDTO)</text><polygon fill="#A80036" points="627.5,188.8281,637.5,192.8281,627.5,196.8281,631.5,192.8281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="467" x2="633.5" y1="192.8281" y2="192.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8" x="474" y="187.7622">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="486" y="187.7622">Pay(pagamentoDTO)</text><polygon fill="#A80036" points="478,217.9609,468,221.9609,478,225.9609,474,221.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="472" x2="643.5" y1="221.9609" y2="221.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="484" y="216.895">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="501" y="216.895"/><polygon fill="#A80036" points="830.5,247.0938,840.5,251.0938,830.5,255.0938,834.5,251.0938" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="467" x2="836.5" y1="251.0938" y2="251.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="474" y="246.0278">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141" x="487" y="246.0278">PostAsync(transacao)</text><polygon fill="#A80036" points="478,276.2266,468,280.2266,478,284.2266,474,280.2266" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="472" x2="846.5" y1="280.2266" y2="280.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="484" y="275.1606">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="497" y="275.1606">return transacao</text><polygon fill="#A80036" points="988.5,305.3594,998.5,309.3594,988.5,313.3594,992.5,309.3594" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="467" x2="994.5" y1="309.3594" y2="309.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="474" y="304.2935">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="219" x="487" y="304.2935">PostAsync(reservaApiParqueDTO)</text><polygon fill="#A80036" points="478,334.4922,468,338.4922,478,342.4922,474,338.4922" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="472" x2="1004.5" y1="338.4922" y2="338.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="484" y="333.4263">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="497" y="333.4263">return reservaParque</text><polygon fill="#A80036" points="1117,363.625,1127,367.625,1117,371.625,1121,367.625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="467" x2="1123" y1="367.625" y2="367.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="474" y="362.5591">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165" x="487" y="362.5591">EnviarEmail(QRCodeDTO)</text><polygon fill="#A80036" points="478,392.7578,468,396.7578,478,400.7578,474,396.7578" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="472" x2="1133" y1="396.7578" y2="396.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="484" y="391.6919">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="511" y="391.6919"/><polygon fill="#A80036" points="1291,421.8906,1301,425.8906,1291,429.8906,1295,425.8906" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="467" x2="1297" y1="425.8906" y2="425.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="474" y="420.8247">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126" x="496" y="420.8247">PostAsync(reserva)</text><polygon fill="#A80036" points="478,451.0234,468,455.0234,478,459.0234,474,455.0234" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="472" x2="1307" y1="455.0234" y2="455.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="484" y="449.9575">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="506" y="449.9575">return reserva</text><polygon fill="#A80036" points="268,480.1563,258,484.1563,268,488.1563,264,484.1563" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="262" x2="461" y1="484.1563" y2="484.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="274" y="479.0903">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="295" y="479.0903">return reserva</text><polygon fill="#A80036" points="53,524.4219,43,528.4219,53,532.4219,49,528.4219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="47" x2="251" y1="528.4219" y2="528.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="59" y="515.7896">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="81" y="508.2231">return reserva</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="81" y="523.356">operacao bem sucedida</text><!--MD5=[833f2aebd9b17daaa9816d72e7c13c6a]
@startuml
autonumber
actor "Utilizador" as U
participant ":api/ReservaController" as RC
participant ":api/ReservaService" as RS
participant ":api/PagamentoService" as PS
participant ":api/TransacaoRepository" as TR
participant "API:Parque" as API
participant ":api/EmailService" as ES
participant ":api/ReservaRepository" as RR


activate U

U - -> RC: solicita reserva\n(reservaDTO)
activate RC


RC - -> RS: PostReserva(reservaDTO)
activate RS

RS - -> PS: Pay(pagamentoDTO)
activate PS

PS - -> RS:
deactivate PS

RS - -> TR: PostAsync(transacao)
activate TR

TR - -> RS: return transacao
deactivate TR

RS - -> API: PostAsync(reservaApiParqueDTO)
activate API

API - -> RS: return reservaParque
deactivate API

RS - -> ES: EnviarEmail(QRCodeDTO)
activate ES

ES - -> RS:
deactivate ES

RS - -> RR: PostAsync(reserva)
activate RR

RR - -> RS: return reserva
deactivate RR

RS - -> RC: return reserva
deactivate RS

RC - -> U: return reserva\noperacao bem sucedida
deactivate RC

deactivate U
@enduml

PlantUML version 1.2021.2beta6(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>